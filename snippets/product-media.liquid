{% case media.media_type %}
{% when 'image' %}
<div class="swiper-slide i" data-target="{{forloop.index}}" data-color="{{media.alt}}">
  {{ media | image_url: width: 400 | image_tag: class: 'product__image', loading: 'lazy', alt: media.alt, widths: '200, 300, 400, 500' }}
  <span class="magnifying-glass">{% render 'icon-plus' %}</span>
</div>
<!-- <div class="product-single__media" style="padding-top: {{ 1 | divided_by: media.aspect_ratio | times: 100}}%;" data-media-id="{{ media.id }}">
      {{ media | image_url: width: 2048, height: 2048 | image_tag }}
    </div> -->
{% when 'external_video' %}
<div class="swiper-slide ex-v" data-target="{{forloop.index}}" data-color="{{media.alt}}" data-media-id="{{ media.id }}">
  {% if media.host == 'youtube' %}
    {{ media | external_video_url: mute: 1, autoplay: 1, loop: 1, controls: 1 | external_video_tag: class: "product__image" }}
  {% elsif media.host == 'vimeo' %}
    {{ media | external_video_url: muted: 1, autoplay: 1, loop: 1, controls: 1 | external_video_tag: class: "product__image" }}
  {% endif %}
</div>
{% when 'video' %}
<div class="swiper-slide v" data-target="{{forloop.index}}" data-color="{{media.alt}}" data-media-id="{{ media.id }}">
  {{ media | video_tag: controls: true, class: "product__image", muted: 1, autoplay: 1, loop: 1 }}
</div>

{% endcase %}